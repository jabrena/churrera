@startuml
!theme plain
scale 0.6
title Complete Project Overview - Class Diagram

package "churrera-cli" {
  class ChurreraCLI
  class RunCommand
  class JobProcessor
  class CLIAgent
  class JobRepository
  class Job
  class Prompt
  class AgentState
}

package "churrera-core" {
  class WorkflowParser
  class WorkflowValidator
  class PmlValidator
  class WorkflowData
  class ParallelWorkflowData
  class SequenceInfo
  class PromptInfo
  class WorkflowType
  class PropertyResolver
  class CursorApiKeyResolver
  class PmlConverter
}

package "cursor-cloud-agents-client" {
  interface CursorAgentManagement
  interface CursorAgentInformation
  interface CursorAgentGeneralEndpoints
  class CursorAgentManagementImpl
  class CursorAgentInformationImpl
  class CursorAgentGeneralEndpointsImpl
  class AgentResponse
  class FollowUpResponse
  class ConversationResponse
  class AgentStatus
}

package "cursor-cloud-agents-openapi" {
  class OpenAPISpecification
}

' Cross-module relationships
ChurreraCLI --> JobRepository : uses
ChurreraCLI --> CLIAgent : uses
ChurreraCLI --> JobProcessor : uses
ChurreraCLI --> WorkflowParser : uses
ChurreraCLI --> WorkflowValidator : uses
ChurreraCLI --> PmlValidator : uses
ChurreraCLI --> CursorAgentManagementImpl : creates
ChurreraCLI --> CursorAgentInformationImpl : creates
ChurreraCLI --> CursorAgentGeneralEndpointsImpl : creates

RunCommand --> JobRepository : uses
RunCommand --> JobProcessor : uses
RunCommand --> CLIAgent : uses
RunCommand --> WorkflowParser : uses
RunCommand --> WorkflowValidator : uses
RunCommand --> PmlValidator : uses

JobProcessor --> JobRepository : uses
JobProcessor --> CLIAgent : uses
JobProcessor --> WorkflowParser : uses
JobProcessor --> WorkflowData : uses

CLIAgent --> JobRepository : uses
CLIAgent --> CursorAgentManagement : uses
CLIAgent --> CursorAgentInformation : uses
CLIAgent --> CursorAgentGeneralEndpoints : uses
CLIAgent --> PmlConverter : uses
CLIAgent --> WorkflowData : uses

JobRepository --> Job : manages
JobRepository --> Prompt : manages
JobRepository --> PropertyResolver : uses

Job --> AgentState : has
Job --> WorkflowType : has

WorkflowParser --> WorkflowData : creates
WorkflowParser --> ParallelWorkflowData : creates
WorkflowParser --> SequenceInfo : creates
WorkflowParser --> PromptInfo : creates

WorkflowValidator --> PropertyResolver : uses
WorkflowValidator --> WorkflowData : validates

PmlValidator --> PropertyResolver : uses

WorkflowData --> PromptInfo : contains
WorkflowData --> ParallelWorkflowData : contains
WorkflowData --> SequenceInfo : contains

ParallelWorkflowData --> PromptInfo : contains
ParallelWorkflowData --> SequenceInfo : contains

SequenceInfo --> PromptInfo : contains

CursorAgentManagementImpl ..|> CursorAgentManagement
CursorAgentInformationImpl ..|> CursorAgentInformation
CursorAgentGeneralEndpointsImpl ..|> CursorAgentGeneralEndpoints

CursorAgentManagementImpl --> AgentResponse : returns
CursorAgentManagementImpl --> FollowUpResponse : returns

CursorAgentInformationImpl --> AgentResponse : returns
CursorAgentInformationImpl --> ConversationResponse : returns

AgentResponse --> AgentStatus : has

OpenAPISpecification ..> CursorAgentManagement : generates
OpenAPISpecification ..> CursorAgentInformation : generates
OpenAPISpecification ..> CursorAgentGeneralEndpoints : generates

@enduml
