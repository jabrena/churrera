@startuml
!theme plain
title Complete Project Overview - All Modules
scale 0.5

package "churrera-cli" {
  class ChurreraCLI
  class RunCommand
  class JobProcessor
  class CLIAgent
  class JobRepository
  class Job
  class SequenceWorkflowHandler
  class ParallelWorkflowHandler
}

package "churrera-core" {
  class WorkflowParser
  class WorkflowData
  class WorkflowValidator
  class PmlValidator
  class ParallelWorkflowData
  class SequenceInfo
  class PromptInfo
  class PmlConverter
  class PropertyResolver
  class CursorApiKeyResolver
}

package "cursor-cloud-agents-client" {
  interface CursorAgentManagement
  interface CursorAgentInformation
  interface CursorAgentGeneralEndpoints
  class CursorAgentManagementImpl
  class CursorAgentInformationImpl
  class CursorAgentGeneralEndpointsImpl
  class AgentResponse
  class AgentStatus
}

package "cursor-cloud-agents-openapi" {
  class cloud-agents-openapi
}

' Cross-module relationships
ChurreraCLI --> WorkflowParser : uses
ChurreraCLI --> CLIAgent : uses
ChurreraCLI --> JobRepository : uses
ChurreraCLI --> PropertyResolver : uses
ChurreraCLI --> CursorApiKeyResolver : uses

RunCommand --> JobProcessor : uses
RunCommand --> JobRepository : uses

JobProcessor --> WorkflowParser : uses
JobProcessor --> SequenceWorkflowHandler : uses
JobProcessor --> ParallelWorkflowHandler : uses

SequenceWorkflowHandler --> CLIAgent : uses
SequenceWorkflowHandler --> WorkflowData : uses

ParallelWorkflowHandler --> CLIAgent : uses
ParallelWorkflowHandler --> WorkflowData : uses
ParallelWorkflowHandler --> ParallelWorkflowData : uses

CLIAgent --> CursorAgentManagement : uses
CLIAgent --> CursorAgentInformation : uses
CLIAgent --> CursorAgentGeneralEndpoints : uses
CLIAgent --> PmlConverter : uses

CursorAgentManagementImpl ..|> CursorAgentManagement
CursorAgentInformationImpl ..|> CursorAgentInformation
CursorAgentGeneralEndpointsImpl ..|> CursorAgentGeneralEndpoints

WorkflowParser --> WorkflowData : creates
WorkflowParser --> ParallelWorkflowData : creates
WorkflowParser --> SequenceInfo : creates
WorkflowParser --> PromptInfo : creates

WorkflowData --> ParallelWorkflowData : contains
WorkflowData --> PromptInfo : contains

ParallelWorkflowData --> SequenceInfo : contains
SequenceInfo --> PromptInfo : contains

JobRepository --> Job : manages

@enduml
